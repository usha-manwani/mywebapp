(function(t){function n(n){for(var o,s,u=n[0],a=n[1],l=n[2],f=0,d=[];f<u.length;f++)s=u[f],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o]);c&&c(n);while(d.length)d.shift()();return r.push.apply(r,l||[]),e()}function e(){for(var t,n=0;n<r.length;n++){for(var e=r[n],o=!0,u=1;u<e.length;u++){var a=e[u];0!==i[a]&&(o=!1)}o&&(r.splice(n--,1),t=s(s.s=e[0]))}return t}var o={},i={hikversionPlayer:0},r=[];function s(n){if(o[n])return o[n].exports;var e=o[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=o,s.d=function(t,n,e){s.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,n){if(1&n&&(t=s(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)s.d(e,o,function(n){return t[n]}.bind(null,o));return e},s.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(n,"a",n),n},s.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},s.p="/site-vue-new/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],a=u.push.bind(u);u.push=n,u=u.slice();for(var l=0;l<u.length;l++)n(u[l]);var c=a;r.push([8,"chunk-vendors"]),e()})({3401:function(t,n,e){"use strict";e.r(n);e("84c2"),e("e35a"),e("1c2e"),e("f4e3"),e("9cf3"),e("a133"),e("ed0d"),e("f09c"),e("e117");var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return 0!=t.mainVedioHeight&&t.CameraDetails&&t.CameraDetails.id?e("hikvisionPlayer",{attrs:{id:"divPlugin",width:"99.95%",height:"99.95%",ip:t.CameraDetails.ip,port:t.CameraDetails.port,userName:t.CameraDetails.id,pwd:t.CameraDetails.pwd}}):t._e()},i=[],r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"hkplayerBox",style:[{width:t.width,height:t.height}]},[e("div",{staticClass:"plugin",style:[{width:t.width,height:t.height}],attrs:{id:t.id}}),e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e("input",{staticClass:"btn btnLU",attrs:{type:"button",value:"左上"},on:{clcik:function(n){return t.mouseDownPTZControl(5)}}}),e("input",{staticClass:"btn btnU",attrs:{type:"button",value:"上"},on:{click:function(n){return t.mouseDownPTZControl(1)}}}),e("input",{staticClass:"btn btnRU",attrs:{type:"button",value:"右上"},on:{click:function(n){return t.mouseDownPTZControl(7)}}}),e("input",{staticClass:"btn btnL",attrs:{type:"button",value:"左"},on:{click:function(n){return t.mouseDownPTZControl(3)}}}),e("input",{staticClass:"btn btnAuto",attrs:{type:"button",value:"自动"},on:{click:function(n){return t.mouseDownPTZControl(9)}}}),e("input",{staticClass:"btn btnR",attrs:{type:"button",value:"右"},on:{click:function(n){return t.mouseDownPTZControl(4)}}}),e("input",{staticClass:"btn btnLD",attrs:{type:"button",value:"左下"},on:{click:function(n){return t.mouseDownPTZControl(6)}}}),e("input",{staticClass:"btn btnD",attrs:{type:"button",value:"下"},on:{click:function(n){return t.mouseDownPTZControl(2)}}}),e("input",{staticClass:"btn btnRD",attrs:{type:"button",value:"右下"},on:{click:function(n){return t.mouseDownPTZControl(8)}}}),e("input",{staticClass:"btn btnKeyUp",attrs:{type:"button",value:"STOP"},on:{click:function(n){return t.mouseUpPTZControl()}}}),e("input",{staticClass:"btn btnZoomDown",attrs:{type:"button",value:"变倍-"},on:{click:function(n){return t.PTZZoomout()}}}),e("input",{staticClass:"btn btnZoomUp",attrs:{type:"button",value:"变倍+"},on:{click:function(n){return t.PTZZoomIn()}}}),e("input",{staticClass:"btn btnZoomStop",attrs:{type:"button",value:"变倍stop"},on:{click:function(n){return t.PTZZoomStop()}}}),e("input",{staticClass:"btn btnFoucusDown",attrs:{type:"button",value:"变焦-"},on:{click:function(n){return t.PTZFocusOut()}}}),e("input",{staticClass:"btn btnFoucusUp",attrs:{type:"button",value:"变焦+"},on:{click:function(n){return t.PTZFocusIn()}}}),e("input",{staticClass:"btn btnFoucusStop",attrs:{type:"button",value:"变焦stop"},on:{click:function(n){return t.PTZFocusStop()}}})])])},s=[],u=(e("4194"),e("e18c"),e("96db"),e("af86"),0);window.g_iWndIndex=u;var a=!1,l={data:function(){return{oSel:[],iPTZSpeed:4}},props:["ip","port","userName","pwd","width","height","id"],mounted:function(){var t=this;this.initHKPlugin().then((function(){t.clickLogin().then(t.clickStartRealPlay)}))},methods:{PTZFocusIn:function(){var t=this,n=WebVideoCtrl.I_GetWindowStatus(u);null!=n&&WebVideoCtrl.I_PTZControl(12,!1,{iWndIndex:u,success:function(){t.showOPInfo(n.szIP+" 聚焦+成功！")},error:function(){t.showOPInfo(n.szIP+"  聚焦+失败！")}})},PTZFocusOut:function(){var t=this,n=WebVideoCtrl.I_GetWindowStatus(u);null!=n&&WebVideoCtrl.I_PTZControl(13,!1,{iWndIndex:u,success:function(){t.showOPInfo(n.szIP+" 聚焦-成功！")},error:function(){t.showOPInfo(n.szIP+"  聚焦-失败！")}})},PTZFocusStop:function(){var t=this,n=WebVideoCtrl.I_GetWindowStatus(u);null!=n&&WebVideoCtrl.I_PTZControl(12,!0,{iWndIndex:u,success:function(){t.showOPInfo(n.szIP+" 聚焦停止成功！")},error:function(){t.showOPInfo(n.szIP+"  聚焦停止失败！")}})},PTZZoomIn:function(){var t=this,n=WebVideoCtrl.I_GetWindowStatus(u);null!=n&&WebVideoCtrl.I_PTZControl(10,!1,{iWndIndex:u,success:function(){t.showOPInfo(n.szIP+" 调焦+成功！")},error:function(){t.showOPInfo(n.szIP+"  调焦+失败！")}})},PTZZoomout:function(){var t=this,n=WebVideoCtrl.I_GetWindowStatus(u);null!=n&&WebVideoCtrl.I_PTZControl(11,!1,{iWndIndex:u,success:function(){t.showOPInfo(n.szIP+" 调焦-成功！")},error:function(){t.showOPInfo(n.szIP+"  调焦-失败！")}})},PTZZoomStop:function(){var t=this,n=WebVideoCtrl.I_GetWindowStatus(u);null!=n&&WebVideoCtrl.I_PTZControl(11,!0,{iWndIndex:u,success:function(){t.showOPInfo(n.szIP+" 调焦停止成功！")},error:function(){t.showOPInfo(n.szIP+"  调焦停止失败！")}})},mouseDownPTZControl:function(t){var n=this,e=WebVideoCtrl.I_GetWindowStatus(u),o=!1,i=this.iPTZSpeed,r=!1;o||null!=e&&(9==t&&a?(i=0,r=!0):(a=!1,r=!1),WebVideoCtrl.I_PTZControl(t,r,{iPTZSpeed:i,success:function(){9==t&&(a=!a),n.showOPInfo(e.szIP+" 开启云台成功！")},error:function(){n.showOPInfo(e.szIP+" 开启云台失败！")}}))},mouseUpPTZControl:function(){var t=this,n=WebVideoCtrl.I_GetWindowStatus(u);null!=n&&WebVideoCtrl.I_PTZControl(1,!0,{success:function(){t.showOPInfo(n.szIP+" 停止云台成功！")},error:function(){t.showOPInfo(n.szIP+" 停止云台失败！")}})},showCBInfo:function(t){console.log("视频日志",t)},showOPInfo:function(t){console.log("视频日志",t)},clickStartRealPlay:function(){var t=WebVideoCtrl.I_GetWindowStatus(u),n=this.ip,e=2,o=this.oSel[0].id,i=!1,r="";if(""!=n){null!=t&&WebVideoCtrl.I_Stop();var s=WebVideoCtrl.I_StartRealPlay(n,{iStreamType:e,iChannelID:o,bZeroChannel:i});r=0==s?"开始预览成功！":"开始预览失败！",this.showOPInfo(n+" "+r)}},getChannelInfo:function(){var t=this;return new Promise((function(n,e){var o=t.ip,i=0;t.oSel=[],""==o&&e(),Promise.all([new Promise((function(n){WebVideoCtrl.I_GetAnalogChannelInfo(o,{async:!1,success:function(e){var r=$(e).find("VideoInputChannel");i=r.length,$.each(r,(function(n,e){var o=parseInt($(e).find("id").eq(0).text(),10),i=$(e).find("name").eq(0).text();""==i&&(i="Camera "+(o<9?"0"+o:o)),t.oSel.push({id:o,name:i})})),t.showOPInfo(o+" 获取模拟通道成功！"),n()},error:function(){t.showOPInfo(o+" 获取模拟通道失败！"),n()}})})),new Promise((function(n){WebVideoCtrl.I_GetDigitalChannelInfo(o,{async:!1,success:function(e){var r=$(e).find("InputProxyChannelStatus");$.each(r,(function(n,e){var o=parseInt($(e).find("id").eq(0).text(),10),r=$(e).find("name").eq(0).text(),s=$(e).find("online").eq(0).text();if("false"==s)return!0;""==r&&(r="IPCamera "+(o-i<9?"0"+(o-i):o-i)),t.oSel.push({id:o,name:r})})),t.showOPInfo(o+" 获取数字通道成功！"),n()},error:function(){t.showOPInfo(o+" 获取数字通道失败！"),n()}})})),new Promise((function(n){WebVideoCtrl.I_GetZeroChannelInfo(o,{async:!1,success:function(e){var i=$(e).find("ZeroVideoChannel");$.each(i,(function(n,e){var o=parseInt($(e).find("id").eq(0).text(),10),i=$(e).find("name").eq(0).text();""==i&&(i="Zero Channel "+(o<9?"0"+o:o)),"true"==$(e).find("enabled").eq(0).text()&&t.oSel.push({id:o,name:i})})),t.showOPInfo(o+" 获取零通道成功！"),n()},error:function(){t.showOPInfo(o+" 获取零通道失败！"),n()}})}))]).then((function(){n()}))}))},clickLogin:function(){var t=this;return new Promise((function(n,e){var o=t.ip,i=t.port,r=t.userName,s=t.pwd;""!=o&&""!=i||e(new Error("ip和端口不能为空"));var u=WebVideoCtrl.I_Login(o,1,i,r,s,{success:function(){t.showOPInfo(o+" 登录成功！"),setTimeout((function(){t.getChannelInfo().then((function(){n()}))}),10)},error:function(){t.showOPInfo(o+" 登录失败！")}});-1==u&&t.showOPInfo(o+" 已登录过！")}))},initHKPlugin:function(){var t=this;return new Promise((function(n,e){-1==WebVideoCtrl.I_CheckPluginInstall()&&(ELEMENT.Message("您还未安装过插件，双击开发包目录里的WebComponents.exe安装！"),e()),WebVideoCtrl.I_InitPlugin(t.width,t.height,{iWndowType:3,cbSelWnd:function(e){u=$(e).find("SelectWnd").eq(0).text(),t.showCBInfo("插件初始化成功"),n()}}),WebVideoCtrl.I_InsertOBJECTPlugin(t.id),WebVideoCtrl.I_ChangeWndNum(1),console.log(-1==WebVideoCtrl.I_CheckPluginVersion(),"是否是最新插件"),$(window).bind({resize:function(){console.log("窗口发生变化")}})}))}}},c=l,f=(e("69e5"),e("9ca4")),d=Object(f["a"])(c,r,s,!1,null,"4790edda",null),p=d.exports,h={data:function(){return{CameraDetails:{id:"admin",pwd:"admin123",ip:"172.168.10.97",port:"80"},mainVedioHeight:1}},components:{hikvisionPlayer:p},mounted:function(){var t=this.getUrlParam();this.CameraDetails={id:this.getUrlParam("id"),pwd:this.getUrlParam("pwd"),ip:this.getUrlParam("ip"),port:this.getUrlParam("port")},console.log(t,"p",this)}},P=h,b=Object(f["a"])(P,o,i,!1,null,null,null),I=b.exports;Vue.config.productionTip=!0;var w=axios.create({});w.defaults.timeout=6e4,Vue.prototype.$ajax=w,Vue.prototype.getUrlParam=function(t){var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),e=window.location.search.substr(1).match(n);return null!=e?unescape(e[2]):null},new Vue({el:"#player",render:function(t){return t(I)}})},"69e5":function(t,n,e){"use strict";var o=e("8f3c"),i=e.n(o);i.a},8:function(t,n,e){t.exports=e("3401")},"8f3c":function(t,n,e){}});